{"ast":null,"code":"import { put, takeEvery, delay } from \"redux-saga/effects\";\nimport { fetchProductAction, fetchProductActionFailed, fetchProductActionSuccess, searchProductAction, searchProductActionFailed, searchProductActionSuccess } from \"stores/slices/product.slice.js\";\nimport { ProductAPI } from \"api/product.api.js\";\n\nfunction* fetchProduct(action) {\n  try {\n    yield delay(1000);\n    const response = yield ProductAPI.fetchProduct(action.payload);\n    const productData = response.data;\n    const totalProduct = response.headers[\"x-total-count\"]; // Put 1 action đã được định nghĩa ở slice\n\n    yield put(fetchProductActionSuccess({\n      data: productData,\n      totalProduct: totalProduct\n    }));\n  } catch (e) {\n    // Put 1 action đã được định nghĩa ở slice\n    yield put(fetchProductActionFailed(e.response.data));\n  }\n}\n\nfunction* searchProduct(action) {\n  try {\n    yield delay(1000);\n    console.log(action.payload);\n    const response = yield ProductAPI.searchProduct(action.payload); // console.log(\"response\", response.data.length);\n\n    const productData = response.data; // console.log(\"productData: \", productData);\n\n    const totalProduct = response.data.length; // console.log('action.payload', action.payload);\n    // Put 1 action đã được định nghĩa ở slice\n\n    yield put(searchProductActionSuccess({\n      data: productData,\n      totalProduct: totalProduct\n    }));\n  } catch (e) {\n    // Put 1 action đã được định nghĩa ở slice\n    console.log(e);\n    yield put(searchProductActionFailed(e.response.data));\n  }\n}\n\nexport function* productSaga() {\n  yield takeEvery(fetchProductAction, fetchProduct);\n  yield takeEvery(searchProductAction, searchProduct);\n}","map":{"version":3,"names":["put","takeEvery","delay","fetchProductAction","fetchProductActionFailed","fetchProductActionSuccess","searchProductAction","searchProductActionFailed","searchProductActionSuccess","ProductAPI","fetchProduct","action","response","payload","productData","data","totalProduct","headers","e","searchProduct","console","log","length","productSaga"],"sources":["/Users/luongvantrung/Dropbox/Dropbox/Mac/Desktop/Final-project-fe27/src/stores/sagas/product.saga.js"],"sourcesContent":["import { put, takeEvery, delay } from \"redux-saga/effects\";\nimport {\n  fetchProductAction,\n  fetchProductActionFailed,\n  fetchProductActionSuccess,\n  searchProductAction,\n  searchProductActionFailed,\n  searchProductActionSuccess,\n} from \"stores/slices/product.slice.js\";\nimport { ProductAPI } from \"api/product.api.js\";\n\nfunction* fetchProduct(action) {\n  try {\n    yield delay(1000);\n    const response = yield ProductAPI.fetchProduct(action.payload);\n    const productData = response.data;\n    const totalProduct = response.headers[\"x-total-count\"];\n\n    // Put 1 action đã được định nghĩa ở slice\n    yield put(\n      fetchProductActionSuccess({\n        data: productData,\n        totalProduct: totalProduct,\n      })\n    );\n  } catch (e) {\n    // Put 1 action đã được định nghĩa ở slice\n    yield put(fetchProductActionFailed(e.response.data));\n  }\n}\n\nfunction* searchProduct(action) {\n  try {\n    yield delay(1000);\n    console.log(action.payload)\n    const response = yield ProductAPI.searchProduct(action.payload);\n    // console.log(\"response\", response.data.length);\n    const productData = response.data;\n    // console.log(\"productData: \", productData);\n    const totalProduct = response.data.length;\n    // console.log('action.payload', action.payload);\n    // Put 1 action đã được định nghĩa ở slice\n    yield put(\n      searchProductActionSuccess({\n        data: productData,\n        totalProduct: totalProduct,\n      })\n    );\n  } catch (e) {\n    // Put 1 action đã được định nghĩa ở slice\n    console.log(e);\n    yield put(searchProductActionFailed(e.response.data));\n  }\n}\n\nexport function* productSaga() {\n  yield takeEvery(fetchProductAction, fetchProduct);\n  yield takeEvery(searchProductAction, searchProduct);\n}\n"],"mappings":"AAAA,SAASA,GAAT,EAAcC,SAAd,EAAyBC,KAAzB,QAAsC,oBAAtC;AACA,SACEC,kBADF,EAEEC,wBAFF,EAGEC,yBAHF,EAIEC,mBAJF,EAKEC,yBALF,EAMEC,0BANF,QAOO,gCAPP;AAQA,SAASC,UAAT,QAA2B,oBAA3B;;AAEA,UAAUC,YAAV,CAAuBC,MAAvB,EAA+B;EAC7B,IAAI;IACF,MAAMT,KAAK,CAAC,IAAD,CAAX;IACA,MAAMU,QAAQ,GAAG,MAAMH,UAAU,CAACC,YAAX,CAAwBC,MAAM,CAACE,OAA/B,CAAvB;IACA,MAAMC,WAAW,GAAGF,QAAQ,CAACG,IAA7B;IACA,MAAMC,YAAY,GAAGJ,QAAQ,CAACK,OAAT,CAAiB,eAAjB,CAArB,CAJE,CAMF;;IACA,MAAMjB,GAAG,CACPK,yBAAyB,CAAC;MACxBU,IAAI,EAAED,WADkB;MAExBE,YAAY,EAAEA;IAFU,CAAD,CADlB,CAAT;EAMD,CAbD,CAaE,OAAOE,CAAP,EAAU;IACV;IACA,MAAMlB,GAAG,CAACI,wBAAwB,CAACc,CAAC,CAACN,QAAF,CAAWG,IAAZ,CAAzB,CAAT;EACD;AACF;;AAED,UAAUI,aAAV,CAAwBR,MAAxB,EAAgC;EAC9B,IAAI;IACF,MAAMT,KAAK,CAAC,IAAD,CAAX;IACAkB,OAAO,CAACC,GAAR,CAAYV,MAAM,CAACE,OAAnB;IACA,MAAMD,QAAQ,GAAG,MAAMH,UAAU,CAACU,aAAX,CAAyBR,MAAM,CAACE,OAAhC,CAAvB,CAHE,CAIF;;IACA,MAAMC,WAAW,GAAGF,QAAQ,CAACG,IAA7B,CALE,CAMF;;IACA,MAAMC,YAAY,GAAGJ,QAAQ,CAACG,IAAT,CAAcO,MAAnC,CAPE,CAQF;IACA;;IACA,MAAMtB,GAAG,CACPQ,0BAA0B,CAAC;MACzBO,IAAI,EAAED,WADmB;MAEzBE,YAAY,EAAEA;IAFW,CAAD,CADnB,CAAT;EAMD,CAhBD,CAgBE,OAAOE,CAAP,EAAU;IACV;IACAE,OAAO,CAACC,GAAR,CAAYH,CAAZ;IACA,MAAMlB,GAAG,CAACO,yBAAyB,CAACW,CAAC,CAACN,QAAF,CAAWG,IAAZ,CAA1B,CAAT;EACD;AACF;;AAED,OAAO,UAAUQ,WAAV,GAAwB;EAC7B,MAAMtB,SAAS,CAACE,kBAAD,EAAqBO,YAArB,CAAf;EACA,MAAMT,SAAS,CAACK,mBAAD,EAAsBa,aAAtB,CAAf;AACD"},"metadata":{},"sourceType":"module"}