{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nimport { toast } from 'react-toastify';\nconst USER_INFO_KEY = 'USER_INFO';\nconst userInfoFromStorage = localStorage.getItem(USER_INFO_KEY) ? JSON.parse(localStorage.getItem(USER_INFO_KEY)) : null;\nconst initialState = {\n  userInfoState: {\n    data: userInfoFromStorage,\n    loading: false,\n    error: null\n  }\n};\nconst userSlice = createSlice({\n  name: 'users',\n  initialState,\n  reducers: {\n    loginAction(state, action) {\n      localStorage.removeItem(USER_INFO_KEY);\n      state.userInfoState = { ...state.userInfoState,\n        loading: true\n      };\n    },\n\n    loginActionSuccess(state, action) {\n      const userInfoResponse = { ...action.payload\n      };\n      localStorage.setItem(USER_INFO_KEY, JSON.stringify(userInfoResponse));\n      state.userInfoState = { ...state.userInfoState,\n        loading: false,\n        data: userInfoResponse\n      };\n    },\n\n    loginActionFailed(state, action) {\n      localStorage.removeItem(USER_INFO_KEY);\n      state.userInfoState = { ...state.userInfoState,\n        loading: false,\n        error: toast.error(action.payload)\n      };\n    },\n\n    registerAction(state, action) {\n      localStorage.removeItem(USER_INFO_KEY);\n      state.userInfoState = { ...state.userInfoState,\n        loading: true\n      };\n    },\n\n    registerActionSuccess(state, action) {\n      const userInfoResponse = { ...action.payload\n      };\n      localStorage.setItem(USER_INFO_KEY, JSON.stringify(userInfoResponse));\n      state.userInfoState = { ...state.userInfoState,\n        loading: false,\n        data: userInfoResponse\n      };\n    },\n\n    registerActionFailed(state, action) {\n      console.log(\"action.payload\", action.payload);\n      localStorage.removeItem(USER_INFO_KEY);\n      state.userInfoState = { ...state.userInfoState,\n        loading: false,\n        error: toast.error(action.payload)\n      };\n    },\n\n    logoutAction(state, action) {\n      console.log('logout');\n      localStorage.removeItem(USER_INFO_KEY);\n      state.userInfoState = { ...state.userInfoState,\n        loading: false,\n        data: null\n      };\n    } // logoutActionSuccess(state, action) {\n    // },\n    // logoutActionFailed(state, action) {\n    // },\n\n\n  }\n});\nexport const {\n  loginAction,\n  loginActionSuccess,\n  loginActionFailed,\n  registerAction,\n  registerActionSuccess,\n  registerActionFailed,\n  logoutAction\n} = userSlice.actions;\nexport const userReducer = userSlice.reducer;","map":{"version":3,"names":["createSlice","toast","USER_INFO_KEY","userInfoFromStorage","localStorage","getItem","JSON","parse","initialState","userInfoState","data","loading","error","userSlice","name","reducers","loginAction","state","action","removeItem","loginActionSuccess","userInfoResponse","payload","setItem","stringify","loginActionFailed","registerAction","registerActionSuccess","registerActionFailed","console","log","logoutAction","actions","userReducer","reducer"],"sources":["/Users/luongvantrung/Dropbox/Dropbox/Mac/Desktop/Final-project-fe27/src/stores/slices/user.slice.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\nimport { toast } from 'react-toastify';\n\nconst USER_INFO_KEY = 'USER_INFO';\n\nconst userInfoFromStorage = localStorage.getItem(USER_INFO_KEY) ? JSON.parse(localStorage.getItem(USER_INFO_KEY)) : null;\n\nconst initialState = {\n    userInfoState: {\n        data: userInfoFromStorage,\n        loading: false,\n        error: null,\n    },\n}\n\nconst userSlice = createSlice({\n    name: 'users',\n    initialState,\n    reducers: {\n        loginAction(state, action) {\n            localStorage.removeItem(USER_INFO_KEY)\n            state.userInfoState = {\n                ...state.userInfoState,\n                loading: true,\n            }\n        },\n        loginActionSuccess(state, action) {\n            const userInfoResponse = { ...action.payload };\n            localStorage.setItem(USER_INFO_KEY, JSON.stringify(userInfoResponse))\n            state.userInfoState = {\n                ...state.userInfoState,\n                loading: false,\n                data: userInfoResponse,\n            }\n        },\n        loginActionFailed(state, action) {\n            localStorage.removeItem(USER_INFO_KEY)\n            state.userInfoState = {\n                ...state.userInfoState,\n                loading: false,\n                error: toast.error(action.payload),\n            }\n        },\n        registerAction(state, action) {\n            localStorage.removeItem(USER_INFO_KEY)\n            state.userInfoState = {\n                ...state.userInfoState,\n                loading: true,\n            }\n        },\n        registerActionSuccess(state, action) {\n            const userInfoResponse = { ...action.payload };\n            localStorage.setItem(USER_INFO_KEY, JSON.stringify(userInfoResponse))\n            state.userInfoState = {\n                ...state.userInfoState,\n                loading: false,\n                data: userInfoResponse,\n            }\n        },\n        registerActionFailed(state, action) {\n            console.log(\"action.payload\",action.payload)\n            localStorage.removeItem(USER_INFO_KEY)\n            state.userInfoState = {\n                ...state.userInfoState,\n                loading: false,\n                error: toast.error(action.payload),\n            }\n        },\n        logoutAction(state, action) {\n            console.log('logout')\n            localStorage.removeItem(USER_INFO_KEY);\n            state.userInfoState = {\n                ...state.userInfoState,\n                loading: false,\n                data: null\n            }\n        },\n        // logoutActionSuccess(state, action) {\n        // },\n        // logoutActionFailed(state, action) {\n        // },\n    },\n})\n\nexport const {\n    loginAction, loginActionSuccess, loginActionFailed,\n    registerAction, registerActionSuccess, registerActionFailed,\n    logoutAction,\n} = userSlice.actions\nexport const userReducer = userSlice.reducer"],"mappings":"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"},"metadata":{},"sourceType":"module"}